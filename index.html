<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SLIT-HUB | Professional Student Portal</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-50 text-slate-900 pb-24 font-sans select-none">

    <div id="splash-screen" class="fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center transition-opacity duration-500">
        <h1 class="font-black text-4xl text-emerald-600 logo-glow italic mb-4">SLIT-HUB</h1>
        <div class="w-12 h-12 border-4 border-emerald-100 border-t-emerald-600 rounded-full animate-spin"></div>
    </div>

    <header class="bg-white/80 backdrop-blur-md border-b sticky top-0 z-40 px-4 py-3 flex justify-between items-center shadow-sm">
        <h1 class="font-black text-xl text-emerald-600 logo-glow italic">SLIT-HUB <span class="float-emoji">‚ö°</span></h1>
        <div class="flex gap-4 items-center">
            <button id="admin-trigger" class="text-slate-400 hover:text-emerald-600 transition-all active:scale-90">
                <i class="fa-solid fa-shield-halved text-lg"></i>
            </button>
        </div>
    </header>

    <main id="app-viewport" class="max-w-md mx-auto p-4 space-y-6">
        
        <section id="tab-home" class="tab-content animate-fade-in">
            <div class="mb-6">
                <h2 class="text-2xl font-bold">Hey Student! <span class="float-emoji">üëã</span></h2>
                <p class="text-slate-500 text-sm italic">Your campus, digitalized.</p>
            </div>
            
            <div id="broadcast-card" class="hidden glass-card bg-emerald-600 text-white p-5 rounded-3xl shadow-xl shadow-emerald-100 mb-6 relative overflow-hidden border-none">
                <i class="fa-solid fa-bullhorn absolute -right-4 -bottom-4 text-7xl opacity-10"></i>
                <p class="text-[10px] font-black uppercase tracking-widest opacity-80">Official Announcement</p>
                <p id="broadcast-msg" class="font-bold text-sm mt-2 leading-relaxed italic">Loading announcement...</p>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div class="glass-card p-4 border-emerald-100">
                    <p class="text-[10px] font-black text-slate-400 uppercase">My Campus Status</p>
                    <p class="font-bold text-emerald-600 italic">Verified <i class="fa-solid fa-check-circle"></i></p>
                </div>
                <div class="glass-card p-4">
                    <p class="text-[10px] font-black text-slate-400 uppercase">Market Active</p>
                    <p id="market-count" class="font-bold text-slate-700 italic">Connecting...</p>
                </div>
            </div>
        </section>

        <section id="tab-academics" class="tab-content hidden animate-fade-in space-y-4">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold italic">Academics <span class="float-emoji">üìö</span></h2>
                <button id="btn-new-group" class="text-emerald-600 text-[10px] font-black uppercase bg-emerald-50 px-3 py-2 rounded-lg border border-emerald-100">+ Study Group</button>
            </div>
            <div id="study-pills" class="flex gap-2 overflow-x-auto no-scrollbar py-1"></div>
            <div id="groups-list" class="grid gap-3"></div>
        </section>

        <section id="tab-marketplace" class="tab-content hidden animate-fade-in space-y-4">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold italic">Marketplace <span class="float-emoji">üõçÔ∏è</span></h2>
                <button id="btn-post-ad" class="bg-emerald-600 btn-glow text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase">Post Ad</button>
            </div>
            <div class="flex bg-slate-200/50 p-1 rounded-2xl backdrop-blur-sm">
                <button data-filter="items" class="m-filter active flex-1 py-2 text-[10px] font-black rounded-xl">ITEMS</button>
                <button data-filter="services" class="m-filter flex-1 py-2 text-[10px] font-black rounded-xl">SERVICES</button>
                <button data-filter="requests" class="m-filter flex-1 py-2 text-[10px] font-black rounded-xl">REQUESTS</button>
            </div>
            <div id="market-grid" class="grid grid-cols-2 gap-3 pb-10"></div>
        </section>

        <section id="tab-admin" class="tab-content hidden animate-fade-in space-y-4">
            <h2 class="text-xl font-bold text-red-600 italic">Admin Terminal <span class="float-emoji">üõ°Ô∏è</span></h2>
            <div class="bg-slate-900 text-emerald-400 p-5 rounded-3xl font-mono text-[10px] space-y-4 border-2 border-slate-800 shadow-2xl">
                <div>
                    <p class="text-white mb-3 underline italic font-black">PENDING WHATSAPP GROUPS</p>
                    <div id="admin-verification-list" class="space-y-3"></div>
                </div>
                <hr class="border-slate-800">
                <button id="btn-broadcast" class="w-full bg-emerald-600 text-white py-3 rounded-xl font-black uppercase tracking-tighter">Broadcast to School</button>
            </div>
        </section>

    </main>

    <div id="modal-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] hidden flex items-end sm:items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-t-[32px] sm:rounded-[32px] p-6 animate-fade-in shadow-2xl">
            <div id="modal-content">
                </div>
            <button id="close-modal" class="w-full mt-4 text-slate-400 text-xs font-bold py-2 uppercase">Close</button>
        </div>
    </div>

    <nav class="fixed bottom-0 inset-x-0 bg-white/90 backdrop-blur-xl border-t flex justify-around items-center py-4 px-2 z-50 rounded-t-[24px] shadow-[0_-10px_20px_rgba(0,0,0,0.02)]">
        <button onclick="switchTab('home')" class="nav-btn active flex flex-col items-center gap-1 text-emerald-600" data-tab="home">
            <i class="fa-solid fa-house-chimney text-lg"></i>
            <span class="text-[9px] font-black uppercase">Home</span>
        </button>
        <button onclick="switchTab('academics')" class="nav-btn flex flex-col items-center gap-1 text-slate-400" data-tab="academics">
            <i class="fa-solid fa-graduation-cap text-lg"></i>
            <span class="text-[9px] font-black uppercase">Learn</span>
        </button>
        <button onclick="switchTab('marketplace')" class="nav-btn flex flex-col items-center gap-1 text-slate-400" data-tab="marketplace">
            <i class="fa-solid fa-shop text-lg"></i>
            <span class="text-[9px] font-black uppercase">Trade</span>
        </button>
        <button onclick="switchTab('admin')" class="nav-btn flex flex-col items-center gap-1 text-slate-400" data-tab="admin">
            <i class="fa-solid fa-user-ninja text-lg"></i>
            <span class="text-[9px] font-black uppercase">Admin</span>
        </button>
    </nav>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
